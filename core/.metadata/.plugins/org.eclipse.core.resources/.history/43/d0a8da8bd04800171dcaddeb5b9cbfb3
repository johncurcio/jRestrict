package parser;

import java.util.function.Predicate;

public abstract class Lexer {
	public static final char EOF = (char)-1;
	String entrada;
	int pos;
	char c;
	
	public Lexer(String _ent) {
		entrada = _ent;
		pos = 0;
		c = entrada.charAt(pos);
	}
	
	public void skip() {
		if(c == EOF) return;
		pos++;
		if(pos >= entrada.length()) c = EOF;
		else c = entrada.charAt(pos);
	}
	
	public boolean match(char x) {
		if(c == x) {
			skip();
			return true;
		} else return false;
	}
	
	public boolean match(Predicate<Character> cc) {
		if(cc.test(c)) {
			skip();
			return true;
		} else return false;
	}
	
	public char peek(int la) {
		return (pos + la) >= entrada.length() ? EOF : entrada.charAt(pos + la);
	}
	
	public String texto(int inicio) {
		return entrada.substring(inicio, pos);
	}
	
	public abstract Token proximoToken();
	public abstract String nomeToken(int tipo);
}