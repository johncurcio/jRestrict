package parser;

import java.util.List;

public class TokenParser implements Parser {
	public final int[] tipos;
	public final Parser rec;
	
	public TokenParser(Parser rec, int... tipos) {
		this.rec = rec;
		this.tipos = tipos;
	}
	
	@Override
	public List<Token> parse(Error err, List<Token> ent) {
		Token prim = ent.get(0);
		System.out.println(prim  + " " + ent );
		for(int tipo: tipos) {
			if(prim.tipo == tipo) {
				return ent.subList(1, ent.size());
			}
		}
		if(err.update(ent.size(), tipos)) {
			return rec.parse(err, ent);
		} else {
			throw new RuntimeException();
		}
	}

}